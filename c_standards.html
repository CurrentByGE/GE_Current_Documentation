
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Using the Intelligent Environment APIs WebSocket and REST services As defined by the query parameters, Intelligent Environments APIs use “live” functions to request and receive near real-time event ..." /><meta name="copyright" content="(C) Copyright 2018" /><meta name="DC.rights.owner" content="(C) Copyright 2018" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Standards" /><meta name="DC.Creator" content="Lee Case" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_5fd67201-81e4-47fa-b642-02f2ad6da4c3" /><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/commonltr.css?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></link><title>Standards</title><!--  Generated with Oxygen version @@WEBHELP_VERSION@@, build number @@WEBHELP_BUILD_NUMBER@@.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></link><link rel="stylesheet" type="text/css" href="C:\Program Files\Oxygen XML Author 19\frameworks/dita/DITA-OT2.x/plugins/com.oxygenxml.webhelp/predefined-skins/dita/oxygen/skin.css?buildId=@@WEBHELP_BUILD_NUMBER@@" /><script type="text/javascript"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/log.js?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="concept_5fd67201-81e4-47fa-b642-02f2ad6da4c3">
<header role="banner"><table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"></span></td><td><span id="topic_navigation_links" class="navheader"></span></td></tr></tbody></table></header><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">Standards</h1>
<div class="body conbody"><p class="p"><strong class="ph b">Using the Intelligent Environment APIs WebSocket and REST services</strong></p>
<p class="p">As defined by the query parameters, Intelligent Environments APIs use “live” functions to request and receive near real-time event data using a secured WebSocket protocol, and “filter” functions to retrieve event data using HTTPS. </p>
<p class="p">For available query parameter details, see the <a class="xref" href="c_overview_of_general_apis.html">General APIs Overview - Cities</a> section in this document.</p>
<div class="note note"><span class="notetitle">Note:</span> You need to send the bearer token and Predix-Zone-Id while establishing the Websocket connection.</div>
<section class="section">
			<div class="p">To retrieve near real-time events, use the Websocket protocol instead of HTTPS for streaming data. The streaming endpoint is: <pre class="pre codeblock"><code>"wss://&lt;streaming url&gt;</code></pre></div>

			<p class="p">Example:</p>

			<p class="p">Options for using <span class="ph uicontrol">Receive Events (PUSH):</span></p>

		</section>
<section class="section">
			<p class="p">Websocket URL: wss://&lt;production url&gt;/events </p>

			<ul class="ul" id="concept_5fd67201-81e4-47fa-b642-02f2ad6da4c3__ul_56873e04-308b-489c-807c-528dbaedd4d0"><li class="li">By AssetUID<p class="p"><strong class="ph b">Headers:</strong></p>
<pre class="pre codeblock"><code>Authorization: Bearer &lt;token from trusted issuer&gt; Predix-Zone-Id: &lt;Predix-Zone-Id&gt; </code></pre><p class="p"><strong class="ph b">Request Payload:</strong></p>
<pre class="pre codeblock"><code>{
	"assetUid": "&lt;assetUID&gt;",
	"eventTypes": ["&lt;eventType1&gt;","&lt;eventType2&gt;"]
}
</code></pre></li>
<li class="li">By Location<p class="p"><strong class="ph b">Headers:</strong></p>
<pre class="pre codeblock"><code>Authorization: Bearer &lt;token from trusted issuer&gt; Predix-Zone-Id: &lt;Predix-Zone-Id&gt;</code></pre><p class="p"><strong class="ph b">Request Payload:</strong></p>
<pre class="pre codeblock"><code>{
	"bbox": "&lt;latitude1&gt;:&lt;longitude1&gt;,&lt;latitude2&gt;:&lt;longitude2&gt;",
	"eventTypes": ["&lt;eventType1&gt;","&lt;eventType2&gt;"]
}</code></pre></li>
<li class="li">By LocationUid<p class="p"><strong class="ph b">Headers:</strong></p>
<pre class="pre codeblock"><code>Authorization: Bearer &lt;token from trusted issuer&gt; Predix-Zone-Id: &lt;Predix-Zone-Id&gt;</code></pre><p class="p"><strong class="ph b">Request Payload:</strong></p>
<pre class="pre codeblock"><code>{
	"locationUid": "&lt;location-UID&gt;",
	"eventTypes": ["&lt;eventType1&gt;","&lt; eventType2&gt;"]
}</code></pre></li>
</ul>

			<p class="p">Options for using <span class="ph uicontrol">Retrieve Events (PULL):</span></p>

			<ul class="ul" id="concept_5fd67201-81e4-47fa-b642-02f2ad6da4c3__ul_52e6d9fb-8ee5-4b40-9194-d5eba141bfc5"><li class="li">By AssetUid<pre class="pre codeblock"><code>https://{{eventurl}}/v2/assets/&lt;assetUid&gt;/events?eventTypes=&lt;event-type&gt;&amp;startTime=&lt;EPOCH_Timestamp&gt;&amp;endTime=&lt;EPOCH_Timestamp&gt; </code></pre></li>
<li class="li">By Locations<pre class="pre codeblock"><code>https://{{eventurl}}/v2/locations/events?bbox=""&amp;eventType=&lt;String&gt;&amp;locationType=&lt;String&gt;&amp;starttime=&lt;EPOCH_Timestamp&gt;&amp;endtime=&lt;EPOCH_Timestamp&gt;</code></pre></li>
<li class="li">By LocationUid<pre class="pre codeblock"><code>https://{{eventurl}}/v2/locations/{locationUid}/events?eventType=&lt;String&gt;&amp;startTime=&lt;EPOCH_Timestamp&gt;&amp;endtime=&lt;EPOCH_Timestamp&gt;</code></pre></li>
</ul>

		</section>
</div>
</article></main><footer role="contentinfo"><div class="navfooter"><!----></div><div class="footer" id="webhelp_copyright_information">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank">
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></footer></body>
</html>